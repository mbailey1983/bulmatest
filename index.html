<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Bailey Dashboard</title>
		<link rel="stylesheet" 
        href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.0/css/bulma.min.css">
		<script defer src="https://use.fontawesome.com/releases/v5.4.1/js/all.js"></script>
		<script src="https://github.com/Asana/node-asana/releases/download/v0.16.6/asana-min.js"></script>
		<script type='text/javascript' src='https://rockstarcreativestudio.github.io/bulmatest/_javascript/client.js'></script>
	    <!-- <link rel="stylesheet" href="styles/debug.css"> -->
		<style>
.center {
 display: flex;
 justify-content: center;
 align-items: center;
}
		</style>
	</head>
	<body>
		<!-- .hero -->
		<section class="hero is-dark is-bold">
	        <div class="hero-body">
	        	<div class="container">
		            <h1 class="has-text-light center title is-spaced">
					Bailey Dashboard
					</h1>
					<h2 class="sub-title">
					</h2>
            	</div>
						<nav class="breadcrumb is-centered" aria-label="breadcrumbs">
								  <ul>
									<li class="is-active"><a href="#">Home</a></li>
									<li><a href="#">Timer</a></li>
									<li><a href="#">Calendar</a></li>
								  </ul>
						</nav>
	        </div>
        </section>
		<!-- /.hero -->
		
		<!-- .columns -->
		<section class="section has-background-black">
			<div class="container">
				<div class="columns">
					<div class="column">
						<article class="media notification is-danger">
								<figure class="media-left">
									<span class="icon">
										<i class="fas fa-2x fa-exclamation-triangle"></i>
									</span>
								</figure>
								<div class="media-content">
									<div class="content">
										<h1 class="title">
											OVERDUE
										</h1>
										<p class="is-size-5">
											             <ul>
															
														</ul> 
											</p>
									</div>
								</div>
						</article>
					</div>
					<div class="column">
						<article class="media notification is-success has-text-grey-darker">
								<figure class="media-left">
									<span class="icon">
										<i class="fas fa-2x fa-hat-wizard"></i>
									</span>
								</figure>
									<div class="media-content">
										<h1 class="title">
											My Tasks For Today
										</h1>
										<p class"is-size-5">
											<script>
											const Asana = require('asana');
											const util = require('util');

											// Using a PAT for basic authentication. This is reasonable to get
											// started with, but Oauth is more secure and provides more features.

											const credentials = {
											  // access_token: 'my_access_token',
											  refresh_token: 'my_refresh_token'
											};
											client.useOauth({
											  credentials: credentials
											});
											client.users.me()
											  .then(user => {
												const userId = user.id;
												// The user's "default" workspace is the first one in the list, though
												// any user can have multiple workspaces so you can't always assume this
												// is the one you want to work with.
												const workspaceId = user.workspaces[0].id;
												return client.tasks.findAll({
												  assignee: userId,
												  workspace: workspaceId,
												  completed_since: 'now',
												  opt_fields: 'id,name,completed'
												});
											  })
											  .then(response => {
												// There may be more pages of data, we could stream or return a promise
												// to request those here - for now, let's just return the first page
												// of items.
												return response.data;
											  })
											  .filter(task => {
												return task.assignee_status === 'today' ||
											 })
											  .then(list => {
												console.log(util.inspect(list, {
												  colors: true,
												  depth: null
												}));
											  })
											  .catch(e => {
												console.log(e);
											  });
										</p>
									</div>
								</div>
						</article>
					<div class="column">
						<article class="media notification is-success has-text-grey-darker">
							<figure class="media-left">
								<span class="icon">
									<i class="fas fa-2x fa-dragon"></i>
								</span>
							</figure>
								<div class="media-content">
									<h1 class="title">
										Gareth's Tasks For Today
									</h1>
									<p class"is-size-5">
										A box to list Gareth's upcoming tasks pulled from Airtable/Zapier/Calendar
									</p>
								</div>
							</div>
					</article>
				</div>
		</section>
		<!-- /.columns -->
	</body>
</html>